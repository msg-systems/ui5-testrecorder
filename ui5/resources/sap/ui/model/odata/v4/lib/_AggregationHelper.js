/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define([],function(){"use strict";var a={"max":"boolean","min":"boolean","name":"string","subtotals":"boolean","with":"string"},A={aggregate:"object",group:"object",groupLevels:"array"},_;function c(d,m,n){var k;function e(M){if(n){M+=" at property: "+n;}throw new Error(M);}function t(v){return Array.isArray(v)?"array":typeof v;}for(k in d){if(!(m&&k in m)){e("Unsupported '"+k+"'");}else if(t(d[k])!==m[k]){e("Not a "+m[k]+" value for '"+k+"'");}}}function b(m,d){var n;for(n in m){c(m[n],d,n);}}_={buildApply:function(o,q,m){var d,s="",g,M=[];function e(f){var D=o.aggregate[f],h=D.name||f;if(D.with){h+=" with "+D.with+" as "+f;}else if(D.name){h+=" as "+f;}if(D.min){p(f,"min");}if(D.max){p(f,"max");}return h;}function n(G){return o.groupLevels.indexOf(G)<0;}function p(N,f){var h="UI5"+f+"__"+N;M.push(N+" with "+f+" as "+h);if(m){m[h]={measure:N,method:f};}}c(o,A);o.groupLevels=o.groupLevels||[];if(o.groupLevels.length>1){throw new Error("More than one group level: "+o.groupLevels);}o.group=o.group||{};b(o.group);g=o.groupLevels.concat(Object.keys(o.group).sort().filter(n));o.aggregate=o.aggregate||{};b(o.aggregate,a);d=Object.keys(o.aggregate).sort().map(e);if(d.length){s="aggregate("+d.join(",")+")";}if(g.length){s="groupby(("+g.join(",")+(s?"),"+s+")":"))");}q=jQuery.extend({},q);if(q.$filter){s+="/filter("+q.$filter+")";delete q.$filter;}if(q.$orderby){s+="/orderby("+q.$orderby+")";delete q.$orderby;}if(M.length){s+="/concat(aggregate("+M.join(",")+"),identity)";}q.$apply=s;return q;},hasMinOrMax:function(m){return!!m&&Object.keys(m).some(function(s){var d=m[s];return d.min||d.max;});}};return _;},false);
