/*!
 * jQuery UI Resizable 1.10.4
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function($,u){function d(v){return parseInt(v,10)||0;}function e(v){return!isNaN(parseInt(v,10));}$.widget("ui.resizable",$.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var n,i,h,a,b,t=this,o=this.options;this.element.addClass("ui-resizable");$.extend(this,{_aspectRatio:!!(o.aspectRatio),aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize();}this.handles=o.handles||(!$(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw";}n=this.handles.split(",");this.handles={};for(i=0;i<n.length;i++){h=$.trim(n[i]);b="ui-resizable-"+h;a=$("<div class='ui-resizable-handle "+b+"'></div>");a.css({zIndex:o.zIndex});if("se"===h){a.addClass("ui-icon ui-icon-gripsmall-diagonal-se");}this.handles[h]=".ui-resizable-"+h;this.element.append(a);}}this._renderAxis=function(c){var i,a,p,f;c=c||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=$(this.handles[i],this.element).show();}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){a=$(this.handles[i],this.element);f=/sw|ne|nw|se|n|s/.test(i)?a.outerHeight():a.outerWidth();p=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");c.css(p,f);this._proportionallyResize();}if(!$(this.handles[i]).length){continue;}}};this._renderAxis(this.element);this._handles=$(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!t.resizing){if(this.className){a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);}t.axis=a&&a[1]?a[1]:"se";}});if(o.autoHide){this._handles.hide();$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(o.disabled){return;}$(this).removeClass("ui-resizable-autohide");t._handles.show();}).mouseleave(function(){if(o.disabled){return;}if(!t.resizing){$(this).addClass("ui-resizable-autohide");t._handles.hide();}});}this._mouseInit();},_destroy:function(){this._mouseDestroy();var w,_=function(a){$(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove();};if(this.elementIsWrapper){_(this.element);w=this.element;this.originalElement.css({position:w.css("position"),width:w.outerWidth(),height:w.outerHeight(),top:w.css("top"),left:w.css("left")}).insertAfter(w);w.remove();}this.originalElement.css("resize",this.originalResizeStyle);_(this.originalElement);return this;},_mouseCapture:function(a){var i,h,c=false;for(i in this.handles){h=$(this.handles[i])[0];if(h===a.target||$.contains(h,a.target)){c=true;}}return!this.options.disabled&&c;},_mouseStart:function(a){var c,b,f,o=this.options,i=this.element.position(),g=this.element;this.resizing=true;if((/absolute/).test(g.css("position"))){g.css({position:"absolute",top:g.css("top"),left:g.css("left")});}else if(g.is(".ui-draggable")){g.css({position:"absolute",top:i.top,left:i.left});}this._renderProxy();c=d(this.helper.css("left"));b=d(this.helper.css("top"));if(o.containment){c+=$(o.containment).scrollLeft()||0;b+=$(o.containment).scrollTop()||0;}this.offset=this.helper.offset();this.position={left:c,top:b};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:g.width(),height:g.height()};this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()};this.originalPosition={left:c,top:b};this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()};this.originalMousePosition={left:a.pageX,top:a.pageY};this.aspectRatio=(typeof o.aspectRatio==="number")?o.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);f=$(".ui-resizable-"+this.axis).css("cursor");$("body").css("cursor",f==="auto"?this.axis+"-resize":f);g.addClass("ui-resizable-resizing");this._propagate("start",a);return true;},_mouseDrag:function(b){var c,f=this.helper,p={},s=this.originalMousePosition,a=this.axis,g=this.position.top,h=this.position.left,i=this.size.width,j=this.size.height,k=(b.pageX-s.left)||0,l=(b.pageY-s.top)||0,t=this._change[a];if(!t){return false;}c=t.apply(this,[b,k,l]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey){c=this._updateRatio(c,b);}c=this._respectSize(c,b);this._updateCache(c);this._propagate("resize",b);if(this.position.top!==g){p.top=this.position.top+"px";}if(this.position.left!==h){p.left=this.position.left+"px";}if(this.size.width!==i){p.width=this.size.width+"px";}if(this.size.height!==j){p.height=this.size.height+"px";}f.css(p);if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize();}if(!$.isEmptyObject(p)){this._trigger("resize",b,this.ui());}return false;},_mouseStop:function(a){this.resizing=false;var p,i,b,c,s,l,t,o=this.options,f=this;if(this._helper){p=this._proportionallyResizeElements;i=p.length&&(/textarea/i).test(p[0].nodeName);b=i&&$.ui.hasScroll(p[0],"left")?0:f.sizeDiff.height;c=i?0:f.sizeDiff.width;s={width:(f.helper.width()-c),height:(f.helper.height()-b)};l=(parseInt(f.element.css("left"),10)+(f.position.left-f.originalPosition.left))||null;t=(parseInt(f.element.css("top"),10)+(f.position.top-f.originalPosition.top))||null;if(!o.animate){this.element.css($.extend(s,{top:t,left:l}));}f.helper.height(f.size.height);f.helper.width(f.size.width);if(this._helper&&!o.animate){this._proportionallyResize();}}$("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",a);if(this._helper){this.helper.remove();}return false;},_updateVirtualBoundaries:function(f){var p,a,c,g,b,o=this.options;b={minWidth:e(o.minWidth)?o.minWidth:0,maxWidth:e(o.maxWidth)?o.maxWidth:Infinity,minHeight:e(o.minHeight)?o.minHeight:0,maxHeight:e(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||f){p=b.minHeight*this.aspectRatio;c=b.minWidth/this.aspectRatio;a=b.maxHeight*this.aspectRatio;g=b.maxWidth/this.aspectRatio;if(p>b.minWidth){b.minWidth=p;}if(c>b.minHeight){b.minHeight=c;}if(a<b.maxWidth){b.maxWidth=a;}if(g<b.maxHeight){b.maxHeight=g;}}this._vBoundaries=b;},_updateCache:function(a){this.offset=this.helper.offset();if(e(a.left)){this.position.left=a.left;}if(e(a.top)){this.position.top=a.top;}if(e(a.height)){this.size.height=a.height;}if(e(a.width)){this.size.width=a.width;}},_updateRatio:function(b){var c=this.position,f=this.size,a=this.axis;if(e(b.height)){b.width=(b.height*this.aspectRatio);}else if(e(b.width)){b.height=(b.width/this.aspectRatio);}if(a==="sw"){b.left=c.left+(f.width-b.width);b.top=null;}if(a==="nw"){b.top=c.top+(f.height-b.height);b.left=c.left+(f.width-b.width);}return b;},_respectSize:function(b){var o=this._vBoundaries,a=this.axis,i=e(b.width)&&o.maxWidth&&(o.maxWidth<b.width),c=e(b.height)&&o.maxHeight&&(o.maxHeight<b.height),f=e(b.width)&&o.minWidth&&(o.minWidth>b.width),g=e(b.height)&&o.minHeight&&(o.minHeight>b.height),h=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,k=/sw|nw|w/.test(a),l=/nw|ne|n/.test(a);if(f){b.width=o.minWidth;}if(g){b.height=o.minHeight;}if(i){b.width=o.maxWidth;}if(c){b.height=o.maxHeight;}if(f&&k){b.left=h-o.minWidth;}if(i&&k){b.left=h-o.maxWidth;}if(g&&l){b.top=j-o.minHeight;}if(c&&l){b.top=j-o.maxHeight;}if(!b.width&&!b.height&&!b.left&&b.top){b.top=null;}else if(!b.width&&!b.height&&!b.top&&b.left){b.left=null;}return b;},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return;}var i,j,b,p,a,c=this.helper||this.element;for(i=0;i<this._proportionallyResizeElements.length;i++){a=this._proportionallyResizeElements[i];if(!this.borderDif){this.borderDif=[];b=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")];p=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];for(j=0;j<b.length;j++){this.borderDif[j]=(parseInt(b[j],10)||0)+(parseInt(p[j],10)||0);}}a.css({height:(c.height()-this.borderDif[0]-this.borderDif[2])||0,width:(c.width()-this.borderDif[1]-this.borderDif[3])||0});}},_renderProxy:function(){var a=this.element,o=this.options;this.elementOffset=a.offset();if(this._helper){this.helper=this.helper||$("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex});this.helper.appendTo("body").disableSelection();}else{this.helper=this.element;}},_change:{e:function(a,b){return{width:this.originalSize.width+b};},w:function(a,b){var c=this.originalSize,s=this.originalPosition;return{left:s.left+b,width:c.width-b};},n:function(a,b,c){var f=this.originalSize,s=this.originalPosition;return{top:s.top+c,height:f.height-c};},s:function(a,b,c){return{height:this.originalSize.height+c};},se:function(a,b,c){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,b,c]));},sw:function(a,b,c){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,b,c]));},ne:function(a,b,c){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,b,c]));},nw:function(a,b,c){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,b,c]));}},_propagate:function(n,a){$.ui.plugin.call(this,n,[a,this.ui()]);(n!=="resize"&&this._trigger(n,a,this.ui()));},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});$.ui.plugin.add("resizable","animate",{stop:function(a){var t=$(this).data("ui-resizable"),o=t.options,p=t._proportionallyResizeElements,i=p.length&&(/textarea/i).test(p[0].nodeName),s=i&&$.ui.hasScroll(p[0],"left")?0:t.sizeDiff.height,b=i?0:t.sizeDiff.width,c={width:(t.size.width-b),height:(t.size.height-s)},l=(parseInt(t.element.css("left"),10)+(t.position.left-t.originalPosition.left))||null,f=(parseInt(t.element.css("top"),10)+(t.position.top-t.originalPosition.top))||null;t.element.animate($.extend(c,f&&l?{top:f,left:l}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var g={width:parseInt(t.element.css("width"),10),height:parseInt(t.element.css("height"),10),top:parseInt(t.element.css("top"),10),left:parseInt(t.element.css("left"),10)};if(p&&p.length){$(p[0]).css({width:g.width,height:g.height});}t._updateCache(g);t._propagate("resize",a);}});}});$.ui.plugin.add("resizable","containment",{start:function(){var a,p,c,b,f,w,h,t=$(this).data("ui-resizable"),o=t.options,g=t.element,j=o.containment,k=(j instanceof $)?j.get(0):(/parent/.test(j))?g.parent().get(0):j;if(!k){return;}t.containerElement=$(k);if(/document/.test(j)||j===document){t.containerOffset={left:0,top:0};t.containerPosition={left:0,top:0};t.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};}else{a=$(k);p=[];$(["Top","Right","Left","Bottom"]).each(function(i,n){p[i]=d(a.css("padding"+n));});t.containerOffset=a.offset();t.containerPosition=a.position();t.containerSize={height:(a.innerHeight()-p[3]),width:(a.innerWidth()-p[1])};c=t.containerOffset;b=t.containerSize.height;f=t.containerSize.width;w=($.ui.hasScroll(k,"left")?k.scrollWidth:f);h=($.ui.hasScroll(k)?k.scrollHeight:b);t.parentData={element:k,left:c.left,top:c.top,width:w,height:h};}},resize:function(a){var w,h,i,b,t=$(this).data("ui-resizable"),o=t.options,c=t.containerOffset,f=t.position,p=t._aspectRatio||a.shiftKey,g={top:0,left:0},j=t.containerElement;if(j[0]!==document&&(/static/).test(j.css("position"))){g=c;}if(f.left<(t._helper?c.left:0)){t.size.width=t.size.width+(t._helper?(t.position.left-c.left):(t.position.left-g.left));if(p){t.size.height=t.size.width/t.aspectRatio;}t.position.left=o.helper?c.left:0;}if(f.top<(t._helper?c.top:0)){t.size.height=t.size.height+(t._helper?(t.position.top-c.top):t.position.top);if(p){t.size.width=t.size.height*t.aspectRatio;}t.position.top=t._helper?c.top:0;}t.offset.left=t.parentData.left+t.position.left;t.offset.top=t.parentData.top+t.position.top;w=Math.abs((t._helper?t.offset.left-g.left:(t.offset.left-g.left))+t.sizeDiff.width);h=Math.abs((t._helper?t.offset.top-g.top:(t.offset.top-c.top))+t.sizeDiff.height);i=t.containerElement.get(0)===t.element.parent().get(0);b=/relative|absolute/.test(t.containerElement.css("position"));if(i&&b){w-=Math.abs(t.parentData.left);}if(w+t.size.width>=t.parentData.width){t.size.width=t.parentData.width-w;if(p){t.size.height=t.size.width/t.aspectRatio;}}if(h+t.size.height>=t.parentData.height){t.size.height=t.parentData.height-h;if(p){t.size.width=t.size.height*t.aspectRatio;}}},stop:function(){var t=$(this).data("ui-resizable"),o=t.options,c=t.containerOffset,a=t.containerPosition,b=t.containerElement,f=$(t.helper),g=f.offset(),w=f.outerWidth()-t.sizeDiff.width,h=f.outerHeight()-t.sizeDiff.height;if(t._helper&&!o.animate&&(/relative/).test(b.css("position"))){$(this).css({left:g.left-a.left-c.left,width:w,height:h});}if(t._helper&&!o.animate&&(/static/).test(b.css("position"))){$(this).css({left:g.left-a.left-c.left,width:w,height:h});}}});$.ui.plugin.add("resizable","alsoResize",{start:function(){var t=$(this).data("ui-resizable"),o=t.options,_=function(a){$(a).each(function(){var b=$(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)});});};if(typeof(o.alsoResize)==="object"&&!o.alsoResize.parentNode){if(o.alsoResize.length){o.alsoResize=o.alsoResize[0];_(o.alsoResize);}else{$.each(o.alsoResize,function(a){_(a);});}}else{_(o.alsoResize);}},resize:function(a,b){var t=$(this).data("ui-resizable"),o=t.options,f=t.originalSize,g=t.originalPosition,h={height:(t.size.height-f.height)||0,width:(t.size.width-f.width)||0,top:(t.position.top-g.top)||0,left:(t.position.left-g.left)||0},_=function(j,c){$(j).each(function(){var k=$(this),s=$(this).data("ui-resizable-alsoresize"),l={},m=c&&c.length?c:k.parents(b.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(m,function(i,p){var n=(s[p]||0)+(h[p]||0);if(n&&n>=0){l[p]=n||null;}});k.css(l);});};if(typeof(o.alsoResize)==="object"&&!o.alsoResize.nodeType){$.each(o.alsoResize,function(i,c){_(i,c);});}else{_(o.alsoResize);}},stop:function(){$(this).removeData("resizable-alsoresize");}});$.ui.plugin.add("resizable","ghost",{start:function(){var t=$(this).data("ui-resizable"),o=t.options,c=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:0.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof o.ghost==="string"?o.ghost:"");t.ghost.appendTo(t.helper);},resize:function(){var t=$(this).data("ui-resizable");if(t.ghost){t.ghost.css({position:"relative",height:t.size.height,width:t.size.width});}},stop:function(){var t=$(this).data("ui-resizable");if(t.ghost&&t.helper){t.helper.get(0).removeChild(t.ghost.get(0));}}});$.ui.plugin.add("resizable","grid",{resize:function(){var t=$(this).data("ui-resizable"),o=t.options,c=t.size,b=t.originalSize,f=t.originalPosition,a=t.axis,g=typeof o.grid==="number"?[o.grid,o.grid]:o.grid,h=(g[0]||1),i=(g[1]||1),j=Math.round((c.width-b.width)/h)*h,k=Math.round((c.height-b.height)/i)*i,n=b.width+j,l=b.height+k,m=o.maxWidth&&(o.maxWidth<n),p=o.maxHeight&&(o.maxHeight<l),q=o.minWidth&&(o.minWidth>n),r=o.minHeight&&(o.minHeight>l);o.grid=g;if(q){n=n+h;}if(r){l=l+i;}if(m){n=n-h;}if(p){l=l-i;}if(/^(se|s|e)$/.test(a)){t.size.width=n;t.size.height=l;}else if(/^(ne)$/.test(a)){t.size.width=n;t.size.height=l;t.position.top=f.top-k;}else if(/^(sw)$/.test(a)){t.size.width=n;t.size.height=l;t.position.left=f.left-j;}else{if(l-i>0){t.size.height=l;t.position.top=f.top-k;}else{t.size.height=i;t.position.top=f.top+b.height-i;}if(n-h>0){t.size.width=n;t.position.left=f.left-j;}else{t.size.width=h;t.position.left=f.left+b.width-h;}}}});})(jQuery);
