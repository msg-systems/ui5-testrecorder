/**
 * JUnit reporter for QUnit v1.1.1
 *
 * https://github.com/JamesMGreene/qunit-reporter-junit
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * https://jquery.org/license/
 */
(function(){'use strict';var c,b,e,f,u,_,U=[];QUnit.jUnitReport=function(){};QUnit.jUnitDone=function(a){if(typeof a==='function'){if(u){a(u);}else{U.push(a);}}};_=function(){var a;do{a=U.shift();if(typeof a==='function'){a(u);}}while(U.length>0);if(typeof QUnit.jUnitReport==='function'){QUnit.jUnitReport(u);}};QUnit.begin(function(){c={modules:[],total:0,passed:0,failed:0,start:new Date(),time:0};});QUnit.moduleStart(function(d){b={name:d.name,tests:[],total:0,passed:0,failed:0,start:new Date(),time:0,stdout:[],stderr:[]};c.modules.push(b);});QUnit.testStart(function(d){if(!b){b={name:d.module||'default',tests:[],total:0,passed:0,failed:0,start:new Date(),time:0,stdout:[],stderr:[]};c.modules.push(b);}f=0;e={name:d.name,failedAssertions:[],total:0,passed:0,failed:0,start:new Date(),time:0};b.tests.push(e);});QUnit.log(function(d){f++;if(!d.result){e.failedAssertions.push(d);b.stdout.push('['+b.name+', '+e.name+', '+f+'] '+d.message+(d.source?'\nSource: '+d.source:''));}});QUnit.testDone(function(d){e.time=(new Date()).getTime()-e.start.getTime();e.total=d.total;e.passed=d.passed;e.failed=d.failed;e=null;});QUnit.moduleDone(function(d){b.time=(new Date()).getTime()-b.start.getTime();b.total=d.total;b.passed=d.passed;b.failed=d.failed;b=null;});QUnit.done(function(d){c.time=d.runtime||((new Date()).getTime()-c.start.getTime());c.total=d.total;c.passed=d.passed;c.failed=d.failed;g(d,c);});var g=function(r,h){var p=function(n){return n<10?'0'+n:n;};var j=function(d){return d.getUTCFullYear()+'-'+p(d.getUTCMonth()+1)+'-'+p(d.getUTCDate())+'T'+p(d.getUTCHours())+':'+p(d.getUTCMinutes())+':'+p(d.getUTCSeconds())+'Z';};var k=function(d){return Math.round(d*1000)/1000000;};var x=function(d){var i={'<':'&lt;','>':'&gt;','&':'&amp;','"':'&quot;','\'':'&apos;','\r':'','\n':'&#10;','\t':'&#9;'};return(''+d).replace(/[<>&"'\r\n\t]/g,function(n){return i.hasOwnProperty(n)?i[n]:n;});};var X=function(d){if(!(this instanceof X)){return new X(d);}d=d||{};var n=[],z=[],A;var B=function(i){if(A[i]&&n[n.length-1]!=='\n'){n.push('\n');}};A=(function(C){var i,D={};C=C||[];i=C.length;while(i--){D[C[i]]={};}return D;})(d.linebreak_at);this.start=function(i,C,D){if(!D){z.push(i);}n.push('<'+i);for(var E in C){n.push(' '+x(E)+'="'+x(C[E])+'"');}n.push(D?' />':'>');B(i);};this.end=function(){var i=z.pop();B(i);n.push('</'+i+'>');B(i);};this.text=function(i){n.push(x(i));};this.cdata=function(i){n.push('<![CDATA['+i+']]>');};this.comment=function(i){n.push('<!--'+i+'-->');};this.pi=function(i,C){n.push('<?'+i+(C?' '+C:'')+'?>\n');};this.doctype=function(i){n.push('<!DOCTYPE'+i+'>\n');};this.getString=function(){while(z.length){this.end();}return n.join('').replace(/\n$/,'');};this.reset=function(){n.length=0;z.length=0;};this.pi(d.xmldecl||'xml version="1.0" encoding="UTF-8"');};var m,l,o,t,q,s,a,L,v,w,y=new X({linebreak_at:['testsuites','testsuite','testcase','failure','expected','actual','system-out','system-err']});y.start('testsuites',{name:(typeof location!=='undefined'&&location&&location.href)||(h.modules.length===1&&h.modules[0].name)||null,tests:h.total,failures:h.failed,errors:0,time:k(h.time)});for(m=0,l=h.modules.length;m<l;m++){o=h.modules[m];y.start('testsuite',{id:m,name:o.name,hostname:'localhost',tests:o.total,failures:o.failed,errors:0,time:k(o.time),timestamp:j(o.start)});for(t=0,q=o.tests.length;t<q;t++){s=o.tests[t];y.start('testcase',{name:s.name,time:k(s.time),timestamp:j(s.start)});for(a=0,L=s.failedAssertions.length;a<L;a++){v=s.failedAssertions[a];w=v&&!(v.actual&&v.expected);y.start('failure',{type:'AssertionFailedError',message:v.message},w);if(!w){y.start('actual',{value:v.actual},true);y.start('expected',{value:v.expected},true);y.end();}}y.end();}if(o.stdout&&o.stdout.length){y.start('system-out');y.cdata('\n'+o.stdout.join('\n')+'\n');y.end();}if(o.stderr&&o.stderr.length){y.start('system-err');y.cdata('\n'+o.stderr.join('\n')+'\n');y.end();}y.end();}y.end();u={results:r,xml:y.getString()};_();};})();
