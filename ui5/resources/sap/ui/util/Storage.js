/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/assert"],function(a){"use strict";var s=function(){var b=!!(JSON&&JSON.parse&&JSON.stringify);var c="state.key_";var C=function(d,f){var t="unknown",P=f||c;P+="-";var T=P+"___sapui5TEST___",S;if(!d||typeof(d)==="string"){t=d||"session";try{S=window[t+"Storage"];}catch(e){S=null;}try{if(S){S.setItem(T,"1");S.removeItem(T);}}catch(e){S=null;}}else if(typeof(d)==="object"){t=d.getType?d.getType():"unknown";S=d;}var g=!!S;this.isSupported=function(){if(!g){return false;}if(typeof(S.isSupported)=="function"){return S.isSupported();}return true;};this.put=function(i,h){a(typeof i==="string"&&i,"sId must be a non-empty string");a(typeof h==="string"||b,"sStateToStore must be string or JSON must be supported");if(this.isSupported()&&i){try{S.setItem(P+i,b?JSON.stringify(h):h);return true;}catch(e){return false;}}else{return false;}};this.get=function(i){a(typeof i==="string"&&i,"sId must be a non-empty string");if(this.isSupported()&&i){try{var I=S.getItem(P+i);return b?JSON.parse(I):I;}catch(e){return null;}}else{return null;}};this.remove=function(i){a(typeof i==="string"&&i,"sId must be a non-empty string");if(this.isSupported()&&i){try{S.removeItem(P+i);return true;}catch(e){return false;}}else{return false;}};this.removeAll=function(I){if(this.isSupported()&&S.length&&typeof S.key==="function"){try{var l=S.length;var k=[];var h,i;var p=P+(I||"");for(i=0;i<l;i++){h=S.key(i);if(h&&h.indexOf(p)==0){k.push(h);}}for(i=0;i<k.length;i++){S.removeItem(k[i]);}return true;}catch(e){return false;}}else{return false;}};this.clear=function(){if(this.isSupported()){try{S.clear();return true;}catch(e){return false;}}else{return false;}};this.getType=function(){return t;};};var m={};var E={getInstance:function(S,i){if(!S){S=s.Type.session;}if(typeof(S)==="string"&&s.Type[S]){var k=S;if(i&&i!=c){k=S+"_"+i;}return m[k]||(m[k]=new C(S,i));}a(S instanceof Object&&S.clear&&S.setItem&&S.getItem&&S.removeItem,"storage: duck typing the storage");return new C(S,i);}};C.apply(E.getInstance);m[s.Type.session]=E.getInstance;return E;};s.Type={local:"local",session:"session"};var S=s();S.Type=s.Type;return S;});
