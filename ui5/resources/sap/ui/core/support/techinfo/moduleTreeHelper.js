/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define([],function(){"use strict";return{set:function(o,n,v,c){n=n==='/'?'':n;var N=n.split('/'),l=N.length,i;if(l>0){for(i=0;o&&i<l-1;i++){if(!o[N[i]]){o[N[i]]={};}if(o[N[i]]){o=o[N[i]];}}if(typeof o[N[l-1]]!=="undefined"||N[l-1]===""||c){if(typeof o[N[l-1]]!=="object"){o[N[l-1]]=v;}else{o[N[l-1]]['']=v;}}}},get:function(o,n){n=n==='/'?'':n;var N=n.split('/'),l=N.length,i;if(l>0){for(i=0;o&&i<l-1;i++){if(!o[N[i]]){return false;}o=o[N[i]];}return o[N[l-1]];}},modulesToHierarchy:function(m,r){var a=m.modules,d=window["sap-ui-debug"];jQuery.each(a,function(n){this.set(r,n,false,true);}.bind(this));if(d===true||d==='x'||d==='X'){this.set(r,'/',true);}else if(d&&typeof d==='string'){d.split(/,/).forEach(function(p){if(/\*/.test(p)){var b=new RegExp("^(?:"+this.makeRegExp(p)+")");var n={};Object.keys(a).forEach(function(M){var s=M.split("/").slice(0,-1).join("/")+"/";n[s]="";});for(var k in a){n[k]=a[k];}jQuery.each(n,function(N){if(b.test(N)){this.set(r,N,true);}}.bind(this));}else{this.set(r,p,true);}}.bind(this));}},toTreeModel:function(m){var h={},t={text:"All"},s;this.modulesToHierarchy(m,h);s=this.setTreeNode(h,t,0,window["sap-ui-debug"]===true);if(!s){s=0;}return{tree:t,depth:s};},setTreeNode:function(h,t,d,s){var S,i;s=h===true||h[""]||s;t.nodes=[];t.selected=s;if(s){S=d;}for(var p in h){if(p===""){continue;}var c={text:p};i=this.setTreeNode(h[p],c,d+1,s);if(i>S||!S){S=i;}t.nodes.push(c);}return S;},toHierarchy:function(t){var r={};t.selected=this.isNodeSelected(t);this.setHierarchyNode(r,t);return r;},isNodeSelected:function(n){var s=0,c;for(var i=0;i<n.nodes.length;i++){c=n.nodes[i];if(c.nodes.length){c.selected=this.isNodeSelected(c);}if(c.selected){s++;}}return s===n.nodes.length;},setHierarchyNode:function(h,t){if(t.selected){h[""]=true;}for(var i=0;i<t.nodes.length;i++){h[t.nodes[i].text]={};if(t.nodes[i].nodes.length){this.setHierarchyNode(h[t.nodes[i].text],t.nodes[i]);}else{h[t.nodes[i].text]=t.nodes[i].selected;}}},toDebugInfo:function(t,s){var o=this.toHierarchy(t),f=[];function c(n,o){var C,b;if(typeof o==='object'){if(o['']){f.push(n+'/');return;}C=Object.keys(o);b=C.length;}if(b){C.forEach(function(a){if(a===''){return;}if(o[a]===true){f.push((n?n+'/':'')+a);}else if(typeof o[a]==='object'){c((n?n+'/':'')+a,o[a]);}});}}if(this.get(o,'/')){return true;}c('',o);return(f.length>0?f.join(s||','):false);},makeRegExp:function(g){if(!/\/\*\*\/$/.test(g)){g=g.replace(/\/$/,'/**/');}return g.replace(/\*\*\/|\*|[[\]{}()+?.\\^$|]/g,function(m){switch(m){case'**/':return'(?:[^/]+/)*';case'*':return'[^/]*';default:return'\\'+m;}});},getSelectionCount:function(t){var d=this.toDebugInfo(t);if(d===true){return 1;}else if(d){return d.split(",").length;}return 0;},recursiveSelect:function(t,s){t.selected=s;for(var i=0;i<t.nodes.length;i++){this.recursiveSelect(t.nodes[i],s);}}};});
