ace.define("ace/ext/static_highlight",["require","exports","module","ace/edit_session","ace/layer/text","ace/config","ace/lib/dom"],function(r,e,a){"use strict";var E=r("../edit_session").EditSession;var T=r("../layer/text").Text;var b=".ace_static_highlight {font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', 'Droid Sans Mono', monospace;font-size: 12px;white-space: pre-wrap}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;}.ace_static_highlight.ace_show_gutter .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line { position: relative; }.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}";var c=r("../config");var d=r("../lib/dom");var S=function(){this.config={};};S.prototype=T.prototype;var h=function(f,o,g){var m=f.className.match(/lang-(\w+)/);var j=o.mode||m&&("ace/mode/"+m[1]);if(!j)return false;var t=o.theme||"ace/theme/textmate";var k="";var n=[];if(f.firstElementChild){var l=0;for(var i=0;i<f.childNodes.length;i++){var p=f.childNodes[i];if(p.nodeType==3){l+=p.data.length;k+=p.data;}else{n.push(l,p);}}}else{k=d.getInnerText(f);if(o.trim)k=k.trim();}h.render(k,j,t,o.firstLineNumber,!o.showGutter,function(q){d.importCssString(q.css,"ace_highlight");f.innerHTML=q.html;var s=f.firstChild.firstChild;for(var i=0;i<n.length;i+=2){var u=q.session.doc.indexToPosition(n[i]);var v=n[i+1];var w=s.children[u.row];w&&w.appendChild(v);}g&&g();});};h.render=function(i,f,t,l,g,j){var w=1;var k=E.prototype.$modes;if(typeof t=="string"){w++;c.loadModule(['theme',t],function(m){t=m;--w||o();});}var n;if(f&&typeof f==="object"&&!f.getTokenizer){n=f;f=n.path;}if(typeof f=="string"){w++;c.loadModule(['mode',f],function(m){if(!k[f]||n)k[f]=new m.Mode(n);f=k[f];--w||o();});}function o(){var m=h.renderSync(i,f,t,l,g);return j?j(m):m;}return--w||o();};h.renderSync=function(i,m,t,l,f){l=parseInt(l||1,10);var s=new E("");s.setUseWorker(false);s.setMode(m);var g=new S();g.setSession(s);s.setValue(i);var j=[];var k=s.getLength();for(var n=0;n<k;n++){j.push("<div class='ace_line'>");if(!f)j.push("<span class='ace_gutter ace_gutter-cell' unselectable='on'>"+"</span>");g.$renderLine(j,n,true,false);j.push("\n</div>");}var o="<div class='"+t.cssClass+"'>"+"<div class='ace_static_highlight"+(f?"":" ace_show_gutter")+"' style='counter-reset:ace_line "+(l-1)+"'>"+j.join("")+"</div>"+"</div>";g.destroy();return{css:b+t.cssText,html:o,session:s};};a.exports=h;a.exports.highlight=h;});(function(){ace.require(["ace/ext/static_highlight"],function(){});})();
