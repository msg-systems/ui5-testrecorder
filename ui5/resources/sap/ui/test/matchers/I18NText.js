/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['./Matcher',"sap/base/strings/capitalize"],function(M,c){"use strict";return M.extend("sap.ui.test.matchers.I18NText",{metadata:{publicMethods:["isMatching"],properties:{propertyName:{type:"string"},key:{type:"string"},parameters:{type:"any"},modelName:{type:"string",defaultValue:"i18n"}}},isMatching:function(C){var k=this.getKey(),p=this.getPropertyName(),P=this.getParameters(),m=this.getModelName(),o=C.getModel(m),b,f=C["get"+c(p,0)],s,t,r;if(!o){this._oLogger.debug("The '"+C+"' has no model with name '"+m+"'");return false;}if(!o.getResourceBundle){this._oLogger.debug("The model '"+o+"' is not a valid resource model");return false;}b=o.getResourceBundle();if(b instanceof Promise){if(o._oResourceBundle instanceof Object&&o._oResourceBundle.getText){b=o._oResourceBundle;}else{this._oLogger.debug("The model '"+m+"' of '"+C+"' is in async mode and not loaded yet");return false;}}if(!f){this._oLogger.debug("The '"+C+"' has no '"+p+"' property");return false;}s=f.call(C);t=b.getText(k,P);if(t===k){var a="No value for the key '"+k+"' in the model '"+m+"' of '"+C+"'";this._oLogger.debug(a);return false;}r=s===t;if(!r){this._oLogger.debug("The text '"+t+"' does not match the value '"+s+"' of the '"+p+"' property for '"+C+"'");}return r;}});});
