/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/fl/changeHandler/ChangeHandlerMediator',"sap/ui/thirdparty/jquery",'sap/ui/layout/form/Form'],function(C,q,F){"use strict";function _(o){return o.getFormElements().every(function(a){return a.getVisible()===false;});}function f(e){if(e&&!(e instanceof F)){return f(e.getParent());}return e;}function i(o){var a=f(o);if(a&&a.getLayout()&&a.getLayout().getMetadata().getName()==="sap.ui.layout.form.GridLayout"){return false;}return true;}return{palette:{group:"LAYOUT",icons:{svg:"sap/ui/layout/designtime/form/FormContainer.icon.svg"}},isVisible:function(o){return o.isVisible();},actions:{remove:function(o){if(i(o)){return{changeType:"hideControl"};}else{return null;}},rename:function(o){if(i(o)){return{changeType:"renameGroup",domRef:function(o){if(!o.getRenderedDomRef()){var t=o.getTitle()||o.getToolbar();return t.getDomRef();}return q(o.getRenderedDomRef()).find(".sapUiFormTitle")[0];},isEnabled:function(o){return!(o.getToolbar()||!o.getTitle());}};}else{return null;}}},aggregations:{formElements:{childNames:{singular:"FIELD_CONTROL_NAME",plural:"FIELD_CONTROL_NAME_PLURAL"},domRef:function(o){var d=o.getRenderedDomRef();var h=o.getTitle()||o.getToolbar();if(d){return d;}if(o.getFormElements().length===0||_(o)){if(h instanceof sap.ui.core.Element){return h.getDomRef();}if(typeof h==="string"){return q(d).find(".sapUiFormTitle").get(0);}}return undefined;},actions:{move:function(o){if(i(o)){return{changeType:"moveControls"};}else{return null;}},addODataProperty:function(o){if(i(o)){var c=C.getAddODataFieldWithLabelSettings(o);if(c){return{changeType:"addFormField",changeOnRelevantContainer:true,changeHandlerSettings:c};}}else{return null;}}}},toolbar:{domRef:function(o){var t=o.getToolbar();if(t){return t.getDomRef();}}}},name:{singular:"GROUP_CONTROL_NAME",plural:"GROUP_CONTROL_NAME_PLURAL"}};},false);
