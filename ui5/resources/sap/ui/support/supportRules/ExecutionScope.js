/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global"],function(q){"use strict";var c=null,_=null,e=[];var g={setScope:function(){for(var i in c.mElements){e.push(c.mElements[i]);}}};var d={setScope:function(){var a=sap.ui.getCore().byId(_.parentId);e=a.findAggregatedObjects(true);}};var f={setScope:function(){var s={};_.components.forEach(function(a){var b=c.mObjects.component[a],j=b.findAggregatedObjects(true);j.forEach(function(l){s[l.getId()]=l;});});for(var i in s){if(s.hasOwnProperty(i)){e.push(s[i]);}}}};var h={global:g,subtree:d,components:f};function k(C){var a=C.getParent().getMetadata().getAggregation(C.sParentAggregationName);return!!a;}function m(C){var r;if(C.getRootControl){r=C.getRootControl();if(r){return[r].concat(r.findAggregatedObjects(true,k));}}return[];}function n(C){var P=C.sParentAggregationName,a=C.getParent();if(a&&P){var b=a.getBindingInfo(P);if(b&&C instanceof b.template.getMetadata().getClass()){return true;}else{return n(a);}}return false;}function o(C){var P=C.sParentAggregationName,a=C.getParent();if(a&&P){var b=a.getBindingInfo(P);if(b&&C instanceof b.template.getMetadata().getClass()){return a.getId();}else{return o(a);}}return null;}function p(a,b){var r=[];for(var i=0,l=a.length;i<l;i++){for(var j=0,s=b.length;j<s;j++){if(a[i]===b[j]){r.push(a[i]);}}}return r;}function E(a,b){c=a;e=[];_=b;h[_.type].setScope();return{getElements:function(C){var t=this;var i={"type":null,"public":false,"cloned":true};if(C&&Object.keys(C).length){var j=e;var r={};Object.keys(i).forEach(function(l){if(C.hasOwnProperty(l)){switch(l){case"type":var s=t.getElementsByClassName(C["type"]);j=p(j,s);break;case"public":if(C["public"]===true){var u=t.getPublicElements();j=p(j,u);}break;case"cloned":if(!C["cloned"]){j=j.filter(function(v){var I=n(v);if(I){var L=o(v);if(!r.hasOwnProperty(L)){r[L]=v;}}return(I===false);});}break;}}});Object.keys(r).forEach(function(R){j.push(r[R]);});return j;}return e;},getPublicElements:function(){var P=[];var C=a.mObjects.component;var u=a.mUIAreas;for(var i in C){P=P.concat(m(C[i]));}for(var j in u){P=P.concat(m(u[j]));}return P;},getElementsByClassName:function(i){if(typeof i==="string"){return e.filter(function(j){return j.getMetadata().getName()===i;});}if(typeof i==="function"){return e.filter(function(j){return j instanceof i;});}},getLoggedObjects:function(t){var l=q.sap.log.getLogEntries(),i=[];l.forEach(function(j){if(!j.supportInfo){return;}var r=e.map(function(w){return w.getId();});var s=!!j.supportInfo.elementId,u=j.supportInfo.type===t||t===undefined,v=!s||q.inArray(j.supportInfo.elementId,r)>-1;if(typeof t==="function"&&t(j)&&v){i.push(j);return;}if(u&&v){i.push(j);}});return i;},_getType:function(){return _.type;},_getContext:function(){return _;}};}E.possibleScopes=Object.getOwnPropertyNames(h);return E;},true);
